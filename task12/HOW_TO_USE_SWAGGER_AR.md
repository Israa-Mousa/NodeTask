# ุฏููู ุงุณุชุฎุฏุงู Swagger UI - ุจุงูุชูุตูู

## ๐ ุงููุตูู ุฅูู Swagger

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
http://localhost:3000/api-docs
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุฃุณุงุณูุฉ

### 1๏ธโฃ ุงูุชุณุฌูู (Register) - ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ

**ุงููููุน ูู Swagger:**
- ุงุจุญุซ ุนู ูุณู **"Authentication"** ูู ุงูุตูุญุฉ
- ุงุถุบุท ุนูู `POST /api/auth/register`
- ุงุถุบุท ุนูู ุฒุฑ **"Try it out"** (ุงูุฃุฒุฑู)

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
  "email": "owner@test.com",
  "password": "123456",
  "name": "Owner Name",
  "role": "OWNER"
}
```

**ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ:**
- `OWNER` - ูุงูู ุงูุบุฑู
- `GUEST` - ุถูู (ููููู ุญุฌุฒ ุงูุบุฑู)
- `ADMIN` - ูุฏูุฑ ุงููุธุงู

**ุจุนุฏ ุงูุชุณุฌูู:**
- ุณุชุญุตู ุนูู ุฑุณุงูุฉ ูุฌุงุญ
- ุงุญูุธ ุงูู `id` ุฅุฐุง ุฃุฑุฏุช ุงุณุชุฎุฏุงูู ูุงุญูุงู

---

### 2๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู (Login) - ููุญุตูู ุนูู Token

**ุงููููุน ูู Swagger:**
- ูู ูุณู **"Authentication"**
- ุงุถุบุท ุนูู `POST /api/auth/login`
- ุงุถุบุท ุนูู **"Try it out"**

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
  "email": "owner@test.com",
  "password": "123456"
}
```

**ุงูุฑุฏ ุณูููู:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "...",
    "email": "owner@test.com",
    "name": "Owner Name",
    "role": "OWNER"
  }
}
```

**โ๏ธ ููู ุฌุฏุงู:** ุงูุณุฎ ุงูู `token` ูู ุงูุฑุฏ!

---

### 3๏ธโฃ ุชูุนูู ุงูู Authorization (ุงูุณูุงุญ ุจุงุณุชุฎุฏุงู Token)

**ุงูุฎุทูุงุช:**
1. ูู ุฃุนูู ุตูุญุฉ Swaggerุ ุงุถุบุท ุนูู ุฒุฑ **"Authorize"** (ุงูุฃุฎุถุฑ ูุน ุฃููููุฉ ุงูููู ๐)
2. ูู ุงููุงูุฐุฉ ุงูุชู ุชูุชุญุ ุณุชุฌุฏ ุญูู **"bearerAuth"**
3. ุงูุตู ุงูู Token ุงูุฐู ุญุตูุช ุนููู ูู Login
4. ุงุถุบุท **"Authorize"**
5. ุงุถุบุท **"Close"**

**ุงูุขู:** ุฌููุน ุงูู APIs ุงูุชู ุชุญุชุงุฌ Token ุณุชุนูู ุชููุงุฆูุงู!

---

## ๐ ุดุฑุญ ุงูู Endpoints ุญุณุจ ุงูุฏูุฑ

### ๐ค ููู OWNER (ูุงูู ุงูุบุฑู)

#### 1. ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ
- **ุงููููุน:** ูุณู **"Rooms"** โ `POST /api/rooms`
- **ูุทููุจ:** Token (Owner)
- **ุงูุจูุงูุงุช:**
```json
{
  "name": "Deluxe Room",
  "description": "Beautiful room with sea view",
  "price": 150.50,
  "capacity": 2,
  "status": "AVAILABLE"
}
```

#### 2. ุนุฑุถ ุบุฑูู
- **ุงููููุน:** ูุณู **"Rooms"** โ `GET /api/rooms/owner/my-rooms`
- **ูุทููุจ:** Token (Owner)
- **ุงูุฑุฏ:** ูุงุฆูุฉ ุจุฌููุน ุบุฑูู ูุน ุงูุญุฌูุฒุงุช

#### 3. ุชุญุฏูุซ ุบุฑูุฉ
- **ุงููููุน:** ูุณู **"Rooms"** โ `PUT /api/rooms/{id}`
- **ูุทููุจ:** Token (Owner) + ID ุงูุบุฑูุฉ
- **ุงูุจูุงูุงุช:** ููุณ ุจูุงูุงุช ุงูุฅูุดุงุก (ูููุง ุงุฎุชูุงุฑูุฉ ููุชุญุฏูุซ)

---

### ๐ซ ููู GUEST (ุงูุถูู)

#### 1. ุนุฑุถ ุงูุบุฑู ุงููุชุงุญุฉ
- **ุงููููุน:** ูุณู **"Rooms"** โ `GET /api/rooms`
- **ุบูุฑ ูุทููุจ:** Token (ุนุงู)
- **ููุงุชุฑ ุงุฎุชูุงุฑูุฉ:**
  - `minPrice` - ุฃูู ุณุนุฑ
  - `maxPrice` - ุฃุนูู ุณุนุฑ
  - `minCapacity` - ุฃูู ุณุนุฉ
  - `maxCapacity` - ุฃุนูู ุณุนุฉ
  - `checkIn` - ุชุงุฑูุฎ ุงูุฏุฎูู (ISO format)
  - `checkOut` - ุชุงุฑูุฎ ุงูุฎุฑูุฌ (ISO format)

**ูุซุงู:**
```
GET /api/rooms?minPrice=100&maxPrice=200&minCapacity=2
```

#### 2. ุนุฑุถ ุชูุงุตูู ุบุฑูุฉ
- **ุงููููุน:** ูุณู **"Rooms"** โ `GET /api/rooms/{id}`
- **ุบูุฑ ูุทููุจ:** Token
- **ุฃุฏุฎู:** ID ุงูุบุฑูุฉ ูู Path

#### 3. ุญุฌุฒ ุบุฑูุฉ
- **ุงููููุน:** ูุณู **"Bookings"** โ `POST /api/bookings`
- **ูุทููุจ:** Token (Guest)
- **ุงูุจูุงูุงุช:**
```json
{
  "roomId": "uuid-here",
  "checkIn": "2024-12-15T14:00:00Z",
  "checkOut": "2024-12-17T12:00:00Z"
}
```

**โ๏ธ ููุงุญุธุงุช:**
- `checkIn` ูุฌุจ ุฃู ูููู ูู ุงููุณุชูุจู
- `checkOut` ูุฌุจ ุฃู ูููู ุจุนุฏ `checkIn`
- ุงูุชุงุฑูุฎ ุจุตูุบุฉ ISO 8601

#### 4. ุนุฑุถ ุญุฌูุฒุงุชู
- **ุงููููุน:** ูุณู **"Bookings"** โ `GET /api/bookings`
- **ูุทููุจ:** Token (Guest)
- **ุงูุฑุฏ:** ูุงุฆูุฉ ุจุฌููุน ุญุฌูุฒุงุชู

#### 5. ุฅูุบุงุก ุญุฌุฒ
- **ุงููููุน:** ูุณู **"Bookings"** โ `PUT /api/bookings/{id}/cancel`
- **ูุทููุจ:** Token (Guest) + ID ุงูุญุฌุฒ
- **ุงูุฑุฏ:** ุฑุณุงูุฉ ูุฌุงุญ

---

### ๐จโ๐ผ ููู ADMIN (ุงููุฏูุฑ)

#### 1. Dashboard (ููุญุฉ ุงูุชุญูู)
- **ุงููููุน:** ูุณู **"Admin"** โ `GET /api/admin/dashboard`
- **ูุทููุจ:** Token (Admin)
- **ุงูุฑุฏ:** ุฅุญุตุงุฆูุงุช ุดุงููุฉ (ุนุฏุฏ ุงููุณุชุฎุฏูููุ ุงูุบุฑูุ ุงูุญุฌูุฒุงุช)

#### 2. ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู
- **ุงููููุน:** ูุณู **"Admin"** โ `GET /api/admin/users`
- **ูุทููุจ:** Token (Admin)

#### 3. ุนุฑุถ ุฌููุน ุงูุบุฑู
- **ุงููููุน:** ูุณู **"Admin"** โ `GET /api/admin/rooms`
- **ูุทููุจ:** Token (Admin)

#### 4. ุนุฑุถ ุฌููุน ุงูุญุฌูุฒุงุช
- **ุงููููุน:** ูุณู **"Admin"** โ `GET /api/admin/bookings`
- **ูุทููุจ:** Token (Admin)

#### 5. ุชุญุฏูุซ ุญุงูุฉ ุญุฌุฒ
- **ุงููููุน:** ูุณู **"Admin"** โ `PUT /api/admin/bookings/{id}/status`
- **ูุทููุจ:** Token (Admin) + ID ุงูุญุฌุฒ
- **ุงูุจูุงูุงุช:**
```json
{
  "status": "CONFIRMED"
}
```
**ุงูุญุงูุงุช ุงููุชุงุญุฉ:** `PENDING`, `CONFIRMED`, `CANCELLED`

---

## ๐ ูุตุงุฆุญ ูููุฉ

### 1. ุงุณุชุฎุฏุงู "Try it out"
- ูู endpoint ูู ุฒุฑ **"Try it out"**
- ุงุถุบุท ุนููู ูุชูุนูู ุงูุญููู
- ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
- ุงุถุบุท **"Execute"** ูุฅุฑุณุงู ุงูุทูุจ

### 2. ูุฑุงุกุฉ ุงูุฑุฏ (Response)
- ุจุนุฏ ุงูุถุบุท ุนูู Executeุ ุณุชุธูุฑ ุงููุชูุฌุฉ ูู ุงูุฃุณูู
- **Response body:** ุงูุจูุงูุงุช ุงููุฑุฌุนุฉ
- **Response code:** ููุฏ ุงูุญุงูุฉ (200 = ูุฌุงุญุ 400 = ุฎุทุฃุ ุฅูุฎ)

### 3. ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

**401 Unauthorized:**
- ูู ุชุณุฌู ุฏุฎูู ุฃู Token ููุชูู
- ุญู: ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู ูุงุญุตู ุนูู Token ุฌุฏูุฏ

**403 Forbidden:**
- ููุณ ูุฏูู ุตูุงุญูุฉ (ูุซูุงู: Guest ูุญุงูู ุฅูุดุงุก ุบุฑูุฉ)
- ุญู: ุงุณุชุฎุฏู ุญุณุงุจ ุจุงูุฏูุฑ ุงูุตุญูุญ

**404 Not Found:**
- ุงูู ID ุบูุฑ ููุฌูุฏ
- ุญู: ุชุฃูุฏ ูู ุงูู ID ุงูุตุญูุญ

**400 Bad Request:**
- ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ
- ุญู: ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (ุงูุชูุงุฑูุฎุ ุงูุฃุฑูุงูุ ุฅูุฎ)

### 4. ุชูุณูู ุงูุชูุงุฑูุฎ
ุงุณุชุฎุฏู ุตูุบุฉ ISO 8601:
```
2024-12-15T14:00:00Z
ุฃู
2024-12-15T14:00:00.000Z
```

---

## ๐ ูุซุงู ูุงูู: ุณููุงุฑูู ูุงูู

### ุงูุณููุงุฑูู: Owner ููุดุฆ ุบุฑูุฉุ Guest ูุญุฌุฒูุง

#### ุงูุฎุทูุฉ 1: ุชุณุฌูู Owner
```
POST /api/auth/register
{
  "email": "owner@test.com",
  "password": "123456",
  "name": "Ahmed Owner",
  "role": "OWNER"
}
```

#### ุงูุฎุทูุฉ 2: ุชุณุฌูู ุฏุฎูู Owner
```
POST /api/auth/login
{
  "email": "owner@test.com",
  "password": "123456"
}
```
**ุงูุณุฎ ุงูู Token!**

#### ุงูุฎุทูุฉ 3: ุชูุนูู Authorization ูู Swagger
- ุงุถุบุท "Authorize"
- ุงูุตู Token
- ุงุญูุธ

#### ุงูุฎุทูุฉ 4: ุฅูุดุงุก ุบุฑูุฉ
```
POST /api/rooms
{
  "name": "Luxury Suite",
  "description": "Amazing view",
  "price": 250,
  "capacity": 4,
  "status": "AVAILABLE"
}
```
**ุงูุณุฎ ุงูู room ID ูู ุงูุฑุฏ!**

#### ุงูุฎุทูุฉ 5: ุชุณุฌูู Guest ุฌุฏูุฏ
```
POST /api/auth/register
{
  "email": "guest@test.com",
  "password": "123456",
  "name": "Sara Guest",
  "role": "GUEST"
}
```

#### ุงูุฎุทูุฉ 6: ุชุณุฌูู ุฏุฎูู Guest
```
POST /api/auth/login
{
  "email": "guest@test.com",
  "password": "123456"
}
```
**ุงูุณุฎ ุงูู Token ุงูุฌุฏูุฏ!**

#### ุงูุฎุทูุฉ 7: ุชุญุฏูุซ Authorization
- ุงุถุบุท "Authorize" ูุฑุฉ ุฃุฎุฑู
- ุงูุตู Token ุงูุฌุฏูุฏ (Guest)
- ุงุญูุธ

#### ุงูุฎุทูุฉ 8: ุญุฌุฒ ุงูุบุฑูุฉ
```
POST /api/bookings
{
  "roomId": "room-id-from-step-4",
  "checkIn": "2024-12-20T14:00:00Z",
  "checkOut": "2024-12-22T12:00:00Z"
}
```

**โ ุชู! ุงูุญุฌุฒ ูุฌุญ!**

---

## ๐ ููุฎุต ุณุฑูุน

1. **ุณุฌู ูุณุชุฎุฏู ุฌุฏูุฏ** โ `/api/auth/register`
2. **ุณุฌู ุฏุฎูู** โ `/api/auth/login` โ ุงูุณุฎ Token
3. **ูุนูู Authorization** โ ุฒุฑ "Authorize" ูู Swagger
4. **ุงุณุชุฎุฏู ุงูู APIs** โ ุญุณุจ ุฏูุฑู (Owner/Guest/Admin)

**ุงูุณูุฑูุฑ:** http://localhost:3000  
**Swagger:** http://localhost:3000/api-docs

---

**ููุงุญุธุฉ:** ุฅุฐุง ุฃุฑุฏุช ุชุจุฏูู ุจูู ุญุณุงุจุงุช ูุฎุชููุฉ (Owner/Guest/Admin)ุ ุณุฌู ุฏุฎูู ุจุงูุญุณุงุจ ุงูุฌุฏูุฏ ูุญุฏูุซ ุงูู Token ูู Authorization.

